---
title: 链表
date: 2020-06-14
---

## 什么是链表

> 多个元素组成的列表,元素存储不连续，用next指针连在一起

![](https://tva1.sinaimg.cn/large/008i3skNly1gri2y15ssdj30vw08etak.jpg)

## 数组vs链表

- 数组: 增删非首尾元素时，需要移动元素
- 链表: 增删非首尾元素时, 更改next指针就行

## 模拟链表

```js
const a = {val: 'a'}
const b = {val: 'b'}
const c = {val: 'c'}
const d = {val: 'd'}

a.next = b;
b.next = c;
c.next = d;

// 遍历链表
// 定义指针
const p = a
while(p){
    console.log(p.val)
    p = a.next
}

// 插入e到c和d中间
const e = {val: 'e'}
c.next = e
e.next = d


// 删除
c.next = d
```

## 删除链表中的节点（leetcode 237）

### 解题思路
- 无法直接获取被删除节点的上个节点
- 将被删除节点转移到下个节点


```js
var deleteNode = function(node) {
    const next = node.next;
    node.val = next.val;
    node.next = next.next;
};
```

## 反转链表
- 如果反转两个节点，则将n+1的next指向n
- 反转多个节点，双指针遍历链表，重复操作，直到结尾

```js
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var reverseList = function(head) {
    let p1 = head;
    let p2 = null;
    while(p1) {
        const tmp = p1.next;
        // 交换
        p1.next = p2

        // 指针向后摞位置
        p2 = p1;
        p1 = tmp
    }
    return p2
};

```

## 链表相加(leetcode 2)

### 解题思路
1. 用两个指针遍历两个节点，相加
2. 如果相加值>9,则把十位数放到下一轮节点相加，个位数放在该节点

时间复杂度: O(n)
空间复杂度: O(n)

### 代码

```javascript
/**
 * Definition for singly-linked list.
 * function ListNode(val, next) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.next = (next===undefined ? null : next)
 * }
 */
/**
 * @param {ListNode} l1
 * @param {ListNode} l2
 * @return {ListNode}
 */
var addTwoNumbers = function(l1, l2) {
    let l3 = new ListNode(0)
    let p1 = l1
    let p2 = l2
    let p3 = l3
    let carry = 0
    while(p1 || p2) {
        const v1 = p1 ? p1.val : 0
        const v2 = p2 ? p2.val : 0
        const val = v1 + v2 + carry
        carry = Math.floor(val / 10)
        p3.next = new ListNode(val % 10)
        if(p1){
            p1 = p1.next
        }
        if(p2) {
            p2 = p2.next
        }
        p3 = p3.next
    }
    if(carry) {
        p3.next = new ListNode(carry)
    }
    return l3.next;
};
```